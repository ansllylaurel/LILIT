═══════════════════════════════════════════════════════════════
  У ТЕБЯ УЖЕ ЕСТЬ СЕРВЕР — ЧТО ДЕЛАТЬ ДАЛЬШЕ
═══════════════════════════════════════════════════════════════

Твой сервер:
  • Ubuntu 24.04
  • Логин: ubuntu
  • Имя хоста: lilit (это имя внутри сервера, подключаться будешь по IP)

ВАЖНО: если ты где-то в интернете или в чате вставлял свой ПРИВАТНЫЙ ключ (файл с "BEGIN RSA PRIVATE KEY") — этот ключ больше не секрет. Удали его в панели хостинга и создай новый ключ. Приватный ключ никому не показывают и никуда не вставляют.

───────────────────────────────────────────────────────────────
ШАГ 0. УЗНАТЬ АДРЕС СЕРВЕРА (IP)
───────────────────────────────────────────────────────────────
  Зайди в панель, где арендовал сервер (Timeweb, Selectel, Reg.ru и т.п.). Там будет указан IP-адрес сервера — что-то вроде 123.45.67.89 или 192.168.x.x. Запиши его — он понадобится для подключения.

───────────────────────────────────────────────────────────────
ШАГ 1. ПОДКЛЮЧИТЬСЯ К СЕРВЕРУ С ТВОЕГО КОМПЬЮТЕРА
───────────────────────────────────────────────

  На Windows:
    1) Открой PowerShell или установи программу PuTTY.
    2) Если используешь ключ: положи приватный ключ в папку (например, C:\Users\ТвоёИмя\.ssh\) и запомни путь к файлу.
    3) Введи команду (подставь СВОЙ IP вместо 123.45.67.89):

          ssh -i C:\Users\DETarasov\Downloads\LILIT ubuntu@194.156.101.5

       Или если логин по паролю (без ключа):

          ssh ubuntu@194.156.101.5

       Введи пароль, если попросит.

  После подключения в начале строки появится что-то вроде ubuntu@lilit:~$ — значит, ты на сервере. Дальше все команды вводишь там.

───────────────────────────────────────────────────────────────
ШАГ 2. ОБНОВИТЬ СЕРВЕР
───────────────────────────────────────────────────────────────
  В окне, где ты уже подключён к серверу (ubuntu@lilit), введи:

    sudo apt update && sudo apt upgrade -y

  Могут спросить пароль пользователя ubuntu — введи. Дождись окончания.

───────────────────────────────────────────────────────────────
ШАГ 3. СОЗДАТЬ ПОЛЬЗОВАТЕЛЯ BOT И ПАПКУ ДЛЯ БОТА
───────────────────────────────────────────────────────────────
  Введи по очереди:

    sudo useradd --system --shell /bin/bash --home-dir /opt/telegram-bot --create-home bot

    sudo chown -R bot:bot /opt/telegram-bot

───────────────────────────────────────────────────────────────
ШАГ 4. УСТАНОВИТЬ GIT
───────────────────────────────────────────────────────────────

    sudo apt install -y git

───────────────────────────────────────────────────────────────
ШАГ 5. ЗАЙТИ КАК BOT И СКАЧАТЬ КОД БОТА
───────────────────────────────────────────────────────────────
  5.1 Зайти под пользователем bot:

    sudo su - bot
  Теперь в начале строки будет bot@lilit.

  5.2 Перейти в папку и скачать проект. Вместо ссылки подставь СВОЮ (твой репозиторий на GitHub/GitLab):

    cd /opt/telegram-bot
     git clone https://github.com/ansllylaurel/LILIT.

  Пример (не твой!): git clone https://github.com/username/лилит.git .
  В конце команды точка и пробел перед ней — обязательно.

───────────────────────────────────────────────────────────────
ШАГ 6. PYTHON И БИБЛИОТЕКИ
───────────────────────────────────────────────────────────────
  Ты всё ещё под bot (bot@lilit). Введи по очереди:

    python3 -m venv venv
    source venv/bin/activate
    pip install --upgrade pip
    pip install -r requirements.txt

  В начале строки должно быть (venv).

───────────────────────────────────────────────────────────────
ШАГ 7. ФАЙЛ .env С ТОКЕНАМИ
───────────────────────────────────────────────────────────────

    cp .env.example .env
    nano .env

  В nano открой .env и впиши свои TELEGRAM_BOT_TOKEN и DEEPSEEK_API_KEY (и при необходимости URL и модель). Сохранить: Ctrl+O, Enter. Выйти: Ctrl+X.

    chmod 600 .env

───────────────────────────────────────────────────────────────
ШАГ 8. ПРОВЕРИТЬ ЗАПУСК
───────────────────────────────────────────────────────────────

    python -m bot.main

  Должны пойти строки "Бот запущен", "Start polling". Проверь в Telegram — бот должен ответить. Остановить: Ctrl+C.

  Выйти из пользователя bot:

    exit

───────────────────────────────────────────────────────────────
ШАГ 9. АВТОЗАПУСК (SYSTEMD)
───────────────────────────────────────────────────────────────
  Ты снова под ubuntu. Создать сервис:

    sudo nano /etc/systemd/system/telegram-bot.service

  Вставь в файл весь блок ниже (от [Unit] до последней строки):

[Unit]
Description=Telegram bot (Lilit, polling)
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
User=bot
Group=bot
WorkingDirectory=/opt/telegram-bot
Environment=PATH=/opt/telegram-bot/venv/bin
ExecStart=/opt/telegram-bot/venv/bin/python -m bot.main
Restart=always
RestartSec=5
StandardOutput=journal
StandardError=journal
SyslogIdentifier=telegram-bot

[Install]
WantedBy=multi-user.target

  Сохранить: Ctrl+O, Enter. Выйти: Ctrl+X.

  Включить и запустить бота:

    sudo systemctl daemon-reload
    sudo systemctl enable telegram-bot.service
    sudo systemctl start telegram-bot.service
    sudo systemctl status telegram-bot.service

  Должно быть active (running). Готово — бот работает 24/7.

───────────────────────────────────────────────────────────────
ПОЛЕЗНЫЕ КОМАНДЫ ПОТОМ
───────────────────────────────────────────────────────────────
  Логи:              sudo journalctl -u telegram-bot.service -f
  Перезапуск бота:   sudo systemctl restart telegram-bot.service
  Остановить:        sudo systemctl stop telegram-bot.service
  Запустить:         sudo systemctl start telegram-bot.service

  Подробнее — в файле ДЕПЛО_ПРОСТЫМИ_СЛОВАМИ.txt.
